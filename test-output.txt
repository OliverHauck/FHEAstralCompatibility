
> astral-compatibility@1.0.0 test
> hardhat test



  AstralCompatibility - Comprehensive Test Suite
    ðŸš€ Deployment & Initialization
      âœ” Should set the correct owner
      âœ” Should initialize with zero matches
      âœ” Should have correct contract address
    ðŸ‘¤ Profile Creation
      âœ” Should create profile with valid zodiac sign (Aries)
      âœ” Should create profile for all 12 zodiac signs
      âœ” Should reject invalid zodiac sign (>11)
      âœ” Should reject invalid element (>3)
      âœ” Should reject invalid quality (>2)
      âœ” Should prevent duplicate profile creation
      âœ” Should store profile with correct timestamp
      âœ” Should emit ProfileCreated event with correct user
    ðŸ’• Compatibility Matching
      âœ” Should request compatibility match successfully
      âœ” Should reject match request with non-existent partner profile
      âœ” Should reject match request without own profile
      âœ” Should reject self-match request
      âœ” Should increment totalMatches counter
      âœ” Should increment user match count
      âœ” Should allow multiple matches for same user
      âœ” Should generate unique match IDs
    ðŸ”“ Score Revelation
      âœ” Should reveal compatibility score
      âœ” Should only allow match participants to reveal
      âœ” Should reject revelation of non-existent match
    ðŸ‘¤ User Stats & Info
      âœ” Should get user profile status
      âœ” Should get user match count
      âœ” Should get zodiac info
    ðŸ“Š Compatibility Algorithm
      âœ” Should calculate scores for same element (Fire)
      âœ” Should calculate scores for different elements
      âœ” Should handle all zodiac sign combinations
      âœ” Should handle Water and Earth compatibility
      âœ” Should handle Air and Fire compatibility
    â›½ Gas Optimization Tests
   Gas used for profile creation: 68028
      âœ” Should have reasonable gas cost for profile creation
   Gas used for match request: 163726
      âœ” Should have reasonable gas cost for match request
    ðŸ”„ Edge Cases & Security
      âœ” Should handle zero address checks
      âœ” Should maintain state consistency across multiple operations
      âœ” Should handle rapid successive matches
      âœ” Should verify profile existence before match


  36 passing (1s)

